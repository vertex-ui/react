/* ==================== Timeline Base ==================== */
.timeline {
  display: flex;
  width: 100%;
  position: relative;
}

/* ==================== Orientation ==================== */
.timeline--horizontal {
  flex-direction: row;
  align-items: flex-start;
}

.timeline--vertical {
  flex-direction: column;
  align-items: stretch;
}

/* ==================== Timeline Step ==================== */
.timeline-step {
  display: flex;
  position: relative;
  transition: var(--vtx-transition-normal, all 0.3s ease);
}

.timeline--horizontal .timeline-step {
  flex-direction: column;
  align-items: center;
  flex: 1 1 0;
  min-width: 0;
  position: relative;
}

.timeline--vertical .timeline-step {
  flex-direction: row;
  align-items: flex-start;
  padding: var(--vtx-spacing-2, 8px) 0;
  position: relative;
}

/* Clickable steps */
.timeline-step--clickable {
  cursor: pointer;
}

.timeline-step--clickable:hover .timeline-step-icon-wrapper {
  transform: scale(1.1);
}

/* ==================== Step Indicator ==================== */
.timeline-step-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.timeline--horizontal .timeline-step-indicator {
  margin-bottom: var(--vtx-spacing-2, 8px);
}

.timeline--vertical .timeline-step-indicator {
  margin-right: var(--vtx-spacing-3, 12px);
  align-items: flex-start;
}

/* ==================== Step Icon Wrapper ==================== */
.timeline-step-icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--vtx-color-neutral-200, #e5e5e5);
  color: var(--vtx-color-neutral-600, #525252);
  transition: var(--vtx-transition-normal, all 0.3s ease);
  flex-shrink: 0;
  position: relative;
  z-index: 2;
}

/* Size variants */
.timeline--sm {
  --icon-size: 24px;
}

.timeline--sm .timeline-step-icon-wrapper {
  width: var(--icon-size);
  height: var(--icon-size);
}

.timeline--md {
  --icon-size: 32px;
}

.timeline--md .timeline-step-icon-wrapper {
  width: var(--icon-size);
  height: var(--icon-size);
}

.timeline--lg {
  --icon-size: 40px;
}

.timeline--lg .timeline-step-icon-wrapper {
  width: var(--icon-size);
  height: var(--icon-size);
}

/* ==================== Step States ==================== */

/* Completed State */
.timeline-step--completed .timeline-step-icon-wrapper {
  background: var(--step-color, var(--vtx-color-success-600, #16a34a));
  color: var(--vtx-color-neutral-50, #ffffff);
}

.timeline-step--completed .timeline-step-label {
  color: var(--vtx-color-neutral-700, #404040);
}

/* Active State */
.timeline-step--active .timeline-step-icon-wrapper {
  background: var(--step-color, var(--vtx-color-success-600, #16a34a));
  color: var(--vtx-color-neutral-50, #ffffff);
  box-shadow: 0 0 0 4px var(--step-color-light, var(--vtx-color-success-100, #dcfce7));
}

.timeline-step--active .timeline-step-label {
  color: var(--vtx-color-neutral-900, #171717);
}

/* Pending State */
.timeline-step--pending .timeline-step-icon-wrapper {
  background: var(--vtx-color-neutral-200, #e5e5e5);
  color: var(--vtx-color-neutral-500, #737373);
}

.timeline-step--pending .timeline-step-label {
  color: var(--vtx-color-neutral-500, #737373);
}

/* ==================== Connector Lines ==================== */
.timeline-connector {
  background: var(--vtx-color-neutral-300, #d4d4d4);
  position: absolute;
  transition: var(--vtx-transition-normal, all 0.3s ease);
  z-index: 0;
}

/* Horizontal connectors */
.timeline--horizontal .timeline-connector {
  height: 3px;
  top: calc(var(--icon-size) / 2);
  transform: translateY(-50%);
  left: calc(50% + var(--icon-size) / 2);
  right: calc(-50% + var(--icon-size) / 2);
  width: auto;
}

/* Vertical connectors */
.timeline--vertical .timeline-connector {
  width: 3px;
  left: calc(var(--icon-size) / 2);
  transform: translateX(-50%);
  top: calc(var(--icon-size) + var(--vtx-spacing-2, 8px));
  bottom: calc(-100% + var(--vtx-spacing-2, 8px));
  height: auto;
}

/* Filled/Active connector */
.timeline-connector--filled {
  background: var(--step-color, var(--vtx-color-success-600, #16a34a));
}

/* ==================== Icons ==================== */
.timeline-step-checkmark {
  width: 60%;
  height: 60%;
}

.timeline-step-number {
  font-size: 0.75em;
  font-weight: 600;
  line-height: 1;
}

.timeline-step-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
}

.timeline-step-custom-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.875em;
}

/* ==================== Step Content ==================== */
.timeline-step-content {
  text-align: center;
  min-width: 0;
}

.timeline--horizontal .timeline-step-content {
  width: 100%;
}

.timeline--vertical .timeline-step-content {
  flex: 1;
  text-align: left;
}

.timeline-step-label {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

.timeline--horizontal .timeline-step-label {
  display: block;
}

.timeline-step-description {
  margin-top: var(--vtx-spacing-1, 4px);
  opacity: 0.8;
}

/* ==================== Variants ==================== */

/* Circle Variant - Larger circles */
.timeline--circle .timeline-step-icon-wrapper {
  border: 2px solid var(--vtx-color-neutral-300, #d4d4d4);
}

.timeline--circle .timeline-step--completed .timeline-step-icon-wrapper,
.timeline--circle .timeline-step--active .timeline-step-icon-wrapper {
  border-color: var(--step-color, var(--vtx-color-success-600, #16a34a));
}

/* Simple Variant - Minimal style */
.timeline--simple .timeline-step-icon-wrapper {
  background: transparent;
  border: 2px solid var(--vtx-color-neutral-300, #d4d4d4);
}

.timeline--simple .timeline-step--completed .timeline-step-icon-wrapper,
.timeline--simple .timeline-step--active .timeline-step-icon-wrapper {
  border-color: var(--step-color, var(--vtx-color-success-600, #16a34a));
  background: var(--step-color, var(--vtx-color-success-600, #16a34a));
}

/* ==================== Color Variants ==================== */
.timeline--primary {
  --step-color: var(--vtx-color-primary-600, #2563eb);
  --step-color-light: var(--vtx-color-primary-100, #dbeafe);
}

.timeline--success {
  --step-color: var(--vtx-color-success-600, #16a34a);
  --step-color-light: var(--vtx-color-success-50, #f0fdf4);
}

.timeline--info {
  --step-color: var(--vtx-color-info-600, #2563eb);
  --step-color-light: var(--vtx-color-info-50, #eff6ff);
}

.timeline--warning {
  --step-color: var(--vtx-color-warning-600, #d97706);
  --step-color-light: var(--vtx-color-warning-50, #fffbeb);
}

.timeline--error {
  --step-color: var(--vtx-color-error-600, #dc2626);
  --step-color-light: var(--vtx-color-error-50, #fef2f2);
}

/* ==================== Responsive Design ==================== */

@media (max-width: 768px) {
  .timeline--horizontal .timeline-step-content {
    font-size: 0.875rem;
  }

  .timeline--horizontal .timeline-step-label {
    font-size: 0.875rem;
  }

  .timeline--md {
    --icon-size: 28px;
  }

  .timeline--lg {
    --icon-size: 36px;
  }
}

@media (max-width: 640px) {
  .timeline--horizontal .timeline-step {
    min-width: 70px;
  }

  .timeline--horizontal .timeline-step-label {
    font-size: 0.8125rem;
  }

  .timeline-step-description {
    font-size: 0.6875rem;
  }
}

@media (max-width: 480px) {
  .timeline--horizontal {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: var(--vtx-spacing-2, 8px);
  }

  .timeline--horizontal .timeline-step {
    min-width: 60px;
  }

  .timeline--horizontal .timeline-step-label {
    font-size: 0.75rem;
    line-height: 1.3;
  }

  .timeline--sm {
    --icon-size: 20px;
  }

  .timeline--md {
    --icon-size: 24px;
  }

  .timeline--lg {
    --icon-size: 32px;
  }

  .timeline-step-description {
    display: none;
  }

  .timeline--vertical .timeline-step-content {
    font-size: 0.875rem;
  }
}

@media (max-width: 375px) {
  .timeline--horizontal .timeline-step {
    min-width: 50px;
  }

  .timeline--horizontal .timeline-step-label {
    font-size: 0.6875rem;
  }

  .timeline--sm {
    --icon-size: 18px;
  }

  .timeline--md {
    --icon-size: 22px;
  }

  .timeline--lg {
    --icon-size: 28px;
  }
}
